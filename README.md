# MBTI Lab ğŸ§ 

> 5ë¶„ ë§Œì— ì•Œì•„ë³´ëŠ” ë‚˜ì˜ MBTI ì„±ê²© ìœ í˜• í…ŒìŠ¤íŠ¸

[![Next.js](https://img.shields.io/badge/Next.js-14.2-black?logo=next.js)](https://nextjs.org/) [![TypeScript](https://img.shields.io/badge/TypeScript-5.x-blue?logo=typescript)](https://www.typescriptlang.org/) [![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-3.x-38B2AC?logo=tailwind-css)](https://tailwindcss.com/) [![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

## ğŸ“‹ ëª©ì°¨

- [í”„ë¡œì íŠ¸ ê°œìš”](#-í”„ë¡œì íŠ¸-ê°œìš”)
- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [ì‹œì‘í•˜ê¸°](#-ì‹œì‘í•˜ê¸°)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [API ë¬¸ì„œ](#-api-ë¬¸ì„œ)
- [í™˜ê²½ ë³€ìˆ˜](#-í™˜ê²½-ë³€ìˆ˜)
- [ë°°í¬](#-ë°°í¬)
- [ê¸°ì—¬í•˜ê¸°](#-ê¸°ì—¬í•˜ê¸°)
- [ë¼ì´ì„ ìŠ¤](#-ë¼ì´ì„ ìŠ¤)

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

MBTI Labì€ ì‚¬ìš©ìê°€ 20ê°œì˜ ì§ˆë¬¸ì— ë‹µí•˜ë©´ 16ê°€ì§€ MBTI ì„±ê²© ìœ í˜• ì¤‘ í•˜ë‚˜ë¥¼ ì•Œë ¤ì£¼ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. íšŒì›ê°€ì… ì—†ì´ ë°”ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•  ìˆ˜ ìˆìœ¼ë©°, ê²°ê³¼ë¥¼ ì´ë¯¸ì§€ë¡œ ì €ì¥í•˜ê±°ë‚˜ SNSì— ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### íŠ¹ì§•

- âš¡ **ë¹ ë¥¸ í…ŒìŠ¤íŠ¸**: 20ê°œ ì§ˆë¬¸ìœ¼ë¡œ ì•½ 5ë¶„ ì•ˆì— ì™„ë£Œ
- ğŸ” **íšŒì› ì‹œìŠ¤í…œ**: ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ë˜ëŠ” ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì§€ì›
- ğŸ’¾ **ì§„í–‰ ìƒíƒœ ì €ì¥**: í…ŒìŠ¤íŠ¸ ì¤‘ê°„ì— ë‚˜ê°€ë„ ëŒì•„ì˜¤ë©´ ì´ì–´ì„œ ì§„í–‰
- ğŸ“Š **ìƒì„¸í•œ ê²°ê³¼**: ìœ í˜•ë³„ íŠ¹ì§•, ê°•ì , ì•½ì , ì¶”ì²œ ì§ì—… ë“± ì œê³µ
- ğŸ“¤ **ê³µìœ  ê¸°ëŠ¥**: ê²°ê³¼ë¥¼ ì´ë¯¸ì§€ë¡œ ì €ì¥í•˜ê³  SNSì— ê³µìœ 
- ğŸŒ™ **ë‹¤í¬ ëª¨ë“œ**: ì‹œìŠ¤í…œ ì„¤ì •ì— ë”°ë¥¸ ìë™ í…Œë§ˆ ì „í™˜

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### 1. MBTI í…ŒìŠ¤íŠ¸

- 4ê°œ ì°¨ì›(E/I, S/N, T/F, J/P)ì— ëŒ€í•œ 20ê°œ ì§ˆë¬¸
- 5ì  ì²™ë„(ì „í˜€ ì•„ë‹ˆë‹¤ ~ ë§¤ìš° ê·¸ë ‡ë‹¤) ì‘ë‹µ
- ì§ê´€ì ì¸ ì§„í–‰ë¥  í‘œì‹œ
- í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ì§€ì› (1-5: ì„ íƒ, Enter: ë‹¤ìŒ)

### 2. ê²°ê³¼ ë¶„ì„

- 16ê°€ì§€ MBTI ìœ í˜•ë³„ ìƒì„¸ ì„¤ëª…
- ì°¨ì›ë³„ ì ìˆ˜ ì‹œê°í™”
- ìœ ëª…ì¸/ìºë¦­í„° ì˜ˆì‹œ
- ê¶í•©ì´ ì˜ ë§ëŠ” ìœ í˜• ì†Œê°œ

### 3. í†µê³„ ê¸°ëŠ¥

- ì „ì²´ í…ŒìŠ¤íŠ¸ ì°¸ì—¬ì ìˆ˜
- ìœ í˜•ë³„ ë¶„í¬ ì°¨íŠ¸
- ë‚˜ì˜ ìœ í˜• ë¹„ìœ¨ í™•ì¸

### 4. ê³µìœ  ê¸°ëŠ¥

- ê²°ê³¼ ì´ë¯¸ì§€ ì €ì¥ (Canvas API)
- ì¹´ì¹´ì˜¤í†¡, íŠ¸ìœ„í„°, í˜ì´ìŠ¤ë¶ ê³µìœ 
- URL ë³µì‚¬

### 5. íšŒì› ì‹œìŠ¤í…œ

- ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ íšŒì›ê°€ì… ë° ë¡œê·¸ì¸
- ì¹´ì¹´ì˜¤ OAuth ì†Œì…œ ë¡œê·¸ì¸
- JWT ê¸°ë°˜ ì¸ì¦ (Access Token + Refresh Token)
- ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Frontend

| ê¸°ìˆ          | ë²„ì „    | ì„¤ëª…                          |
| ------------ | ------- | ----------------------------- |
| Next.js      | 14.2.33 | React í”„ë ˆì„ì›Œí¬ (App Router) |
| React        | 18.3.1  | UI ë¼ì´ë¸ŒëŸ¬ë¦¬                 |
| TypeScript   | 5.x     | ì •ì  íƒ€ì…                     |
| Tailwind CSS | 3.x     | ìœ í‹¸ë¦¬í‹° CSS                  |
| Zustand      | 5.x     | ìƒíƒœ ê´€ë¦¬                     |

### Backend

| ê¸°ìˆ                | ë²„ì „   | ì„¤ëª…           |
| ------------------ | ------ | -------------- |
| Next.js API Routes | -      | Serverless API |
| Prisma             | 6.19.x | ORM            |
| PostgreSQL         | 15+    | ë°ì´í„°ë² ì´ìŠ¤   |
| JWT (jose)         | 6.x    | ì¸ì¦ í† í°      |
| bcryptjs           | 3.x    | ë¹„ë°€ë²ˆí˜¸ í•´ì‹±  |

### Infrastructure

| ê¸°ìˆ            | ì„¤ëª…                 |
| -------------- | -------------------- |
| Vercel         | í˜¸ìŠ¤íŒ… ë° ë°°í¬       |
| Docker Compose | ë¡œì»¬ PostgreSQL í™˜ê²½ |
| GitHub Pages   | ì •ì  ë°°í¬ (ëŒ€ì•ˆ)     |

## ğŸš€ ì‹œì‘í•˜ê¸°

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Node.js 18.x ì´ìƒ
- pnpm (ê¶Œì¥) ë˜ëŠ” npm
- Docker & Docker Compose (ë°ì´í„°ë² ì´ìŠ¤ìš©)

### ì„¤ì¹˜

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/your-username/mbti-lab.git
cd mbti-lab

# ì˜ì¡´ì„± ì„¤ì¹˜
pnpm install

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ì„ ì—´ì–´ ë¹„ë°€ê°’ ìˆ˜ì •

# PostgreSQL ì‹¤í–‰ (Docker)
docker-compose up -d

# Prisma ë§ˆì´ê·¸ë ˆì´ì…˜
npx prisma migrate dev

# ê°œë°œ ì„œë²„ ì‹¤í–‰
pnpm dev
```

ë¸Œë¼ìš°ì €ì—ì„œ [http://localhost:3000](http://localhost:3000)ì„ ì—´ì–´ í™•ì¸í•˜ì„¸ìš”.

### ìŠ¤í¬ë¦½íŠ¸

```bash
# ê°œë°œ ì„œë²„ ì‹¤í–‰
pnpm dev

# í”„ë¡œë•ì…˜ ë¹Œë“œ
pnpm build

# í”„ë¡œë•ì…˜ ì„œë²„ ì‹¤í–‰
pnpm start

# ë¦°íŠ¸ ê²€ì‚¬
pnpm lint
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```text
src/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ page.tsx                 # ëœë”© í˜ì´ì§€ (/)
â”‚   â”œâ”€â”€ layout.tsx               # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”‚   â”œâ”€â”€ login/page.tsx           # ë¡œê·¸ì¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ register/page.tsx        # íšŒì›ê°€ì… í˜ì´ì§€
â”‚   â”œâ”€â”€ test/page.tsx            # í…ŒìŠ¤íŠ¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ result/page.tsx          # ê²°ê³¼ í˜ì´ì§€
â”‚   â””â”€â”€ api/                     # API Routes
â”‚       â”œâ”€â”€ auth/                # ì¸ì¦ API
â”‚       â”‚   â”œâ”€â”€ register/        # íšŒì›ê°€ì…
â”‚       â”‚   â”œâ”€â”€ login/           # ë¡œê·¸ì¸
â”‚       â”‚   â”œâ”€â”€ logout/          # ë¡œê·¸ì•„ì›ƒ
â”‚       â”‚   â”œâ”€â”€ refresh/         # í† í° ê°±ì‹ 
â”‚       â”‚   â”œâ”€â”€ me/              # ë‚´ ì •ë³´ ì¡°íšŒ
â”‚       â”‚   â””â”€â”€ kakao/           # ì¹´ì¹´ì˜¤ OAuth
â”‚       â”œâ”€â”€ submit-result/       # ê²°ê³¼ ì œì¶œ API
â”‚       â””â”€â”€ statistics/          # í†µê³„ ì¡°íšŒ API
â”œâ”€â”€ components/                   # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ui/                      # ê¸°ë³¸ UI
â”‚   â”œâ”€â”€ auth/                    # ì¸ì¦ ê´€ë ¨
â”‚   â”‚   â”œâ”€â”€ LoginForm.tsx
â”‚   â”‚   â”œâ”€â”€ RegisterForm.tsx
â”‚   â”‚   â””â”€â”€ KakaoLoginButton.tsx
â”‚   â”œâ”€â”€ test/                    # í…ŒìŠ¤íŠ¸ ê´€ë ¨
â”‚   â””â”€â”€ result/                  # ê²°ê³¼ ê´€ë ¨
â”œâ”€â”€ lib/                         # ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ auth/                    # ì¸ì¦ ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”œâ”€â”€ jwt.ts               # JWT í† í° ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ cookies.ts           # ì¿ í‚¤ í—¬í¼
â”‚   â”‚   â””â”€â”€ kakao.ts             # ì¹´ì¹´ì˜¤ OAuth
â”‚   â”œâ”€â”€ db.ts                    # Prisma í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ mbti.ts                  # MBTI ê³„ì‚° ë¡œì§
â”‚   â”œâ”€â”€ questions.ts             # ì§ˆë¬¸ ë°ì´í„°
â”‚   â””â”€â”€ types.ts                 # TypeScript íƒ€ì…
â”œâ”€â”€ hooks/                       # React Hooks
â”‚   â””â”€â”€ useUser.ts               # ì‚¬ìš©ì ìƒíƒœ í›…
â”œâ”€â”€ stores/                      # ìƒíƒœ ê´€ë¦¬
â”‚   â””â”€â”€ testStore.ts
â”œâ”€â”€ middleware.ts                # ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
â””â”€â”€ prisma/
    â””â”€â”€ schema.prisma            # DB ìŠ¤í‚¤ë§ˆ
```

## ğŸ“š API ë¬¸ì„œ

### POST /api/submit-result

í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ì œì¶œí•©ë‹ˆë‹¤.

**Request Body:**

```typescript
interface SubmitResultRequest {
  mbtiType: MbtiType; // 'INTJ' | 'INFP' | ... (16ê°€ì§€ ì¤‘ í•˜ë‚˜)
  answers?: Answer[]; // ì„ íƒì : ê° ì§ˆë¬¸ì— ëŒ€í•œ ë‹µë³€
}
```

**Response:**

```typescript
// ì„±ê³µ (200)
{
  "success": true,
  "totalTests": 75322
}

// ì‹¤íŒ¨ (400)
{
  "error": "Invalid MBTI type",
  "message": "mbtiType must be one of 16 valid types"
}
```

**ì˜ˆì‹œ:**

```bash
curl -X POST http://localhost:3000/api/submit-result \
  -H "Content-Type: application/json" \
  -d '{"mbtiType": "ENFP"}'
```

---

### GET /api/statistics

ì „ì²´ MBTI ìœ í˜•ë³„ í†µê³„ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

**Response:**

```typescript
interface StatisticsResponse {
  stats: Record<MbtiType, number>; // ìœ í˜•ë³„ ì¸ì› ìˆ˜
  total: number; // ì „ì²´ í…ŒìŠ¤íŠ¸ ìˆ˜
  lastUpdated: string; // ISO 8601 í˜•ì‹
}
```

**ì˜ˆì‹œ ì‘ë‹µ:**

```json
{
  "stats": {
    "INTJ": 5234,
    "INTP": 4123,
    "ENTJ": 3456,
    "ENTP": 4567,
    "INFJ": 6789,
    "INFP": 7890,
    "ENFJ": 5678,
    "ENFP": 8901,
    "ISTJ": 4321,
    "ISFJ": 5432,
    "ESTJ": 3210,
    "ESFJ": 4321,
    "ISTP": 2345,
    "ISFP": 3456,
    "ESTP": 2234,
    "ESFP": 3345
  },
  "total": 75322,
  "lastUpdated": "2025-01-15T12:00:00.000Z"
}
```

**ì˜ˆì‹œ:**

```bash
curl http://localhost:3000/api/statistics
```

---

### ì¸ì¦ API

#### POST /api/auth/register

ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ë¡œ íšŒì›ê°€ì…í•©ë‹ˆë‹¤.

```typescript
// Request
{ email: string, password: string, nickname: string }

// Response (201)
{ user: { id, email, nickname }, message: "íšŒì›ê°€ì… ì„±ê³µ" }
```

#### POST /api/auth/login

ë¡œê·¸ì¸í•˜ì—¬ JWT í† í°ì„ ë°œê¸‰ë°›ìŠµë‹ˆë‹¤. (ì¿ í‚¤ì— ìë™ ì €ì¥)

```typescript
// Request
{ email: string, password: string }

// Response (200)
{ user: { id, email, nickname }, message: "ë¡œê·¸ì¸ ì„±ê³µ" }
```

#### POST /api/auth/logout

ë¡œê·¸ì•„ì›ƒí•˜ê³  í† í° ì¿ í‚¤ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.

```typescript
// Response (200)
{
  message: 'ë¡œê·¸ì•„ì›ƒ ì„±ê³µ';
}
```

#### POST /api/auth/refresh

Refresh Tokenìœ¼ë¡œ Access Tokenì„ ê°±ì‹ í•©ë‹ˆë‹¤.

```typescript
// Response (200)
{
  message: 'í† í° ê°±ì‹  ì„±ê³µ';
}
```

#### GET /api/auth/me

í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ì ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

```typescript
// Response (200)
{
  user: {
    id, email, nickname, profileImage;
  }
}
```

#### GET /api/auth/kakao

ì¹´ì¹´ì˜¤ OAuth ì¸ì¦ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸í•©ë‹ˆë‹¤.

#### GET /api/auth/kakao/callback

ì¹´ì¹´ì˜¤ ì¸ì¦ ì™„ë£Œ í›„ ì½œë°±ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.

## ğŸ”§ í™˜ê²½ ë³€ìˆ˜

`.env.example`ì„ ì°¸ê³ í•˜ì—¬ `.env` íŒŒì¼ì„ ìƒì„±í•˜ì„¸ìš”:

```env
# Database (Docker Composeìš©)
POSTGRES_USER=mbti
POSTGRES_PASSWORD=your-secure-password
POSTGRES_DB=mbti_db

# Database URL (Prismaìš©)
DATABASE_URL="postgresql://mbti:your-secure-password@localhost:5432/mbti_db"

# JWT Secrets (openssl rand -base64 32 ë¡œ ìƒì„±)
JWT_SECRET="your-jwt-secret-key-min-32-chars"
JWT_REFRESH_SECRET="your-refresh-secret-key-min-32-chars"

# App URL
NEXT_PUBLIC_BASE_URL=http://localhost:3000

# Kakao OAuth (https://developers.kakao.com)
NEXT_PUBLIC_KAKAO_CLIENT_ID=your-kakao-rest-api-key
KAKAO_CLIENT_ID="your-kakao-rest-api-key"
KAKAO_CLIENT_SECRET="your-kakao-client-secret"
```

| ë³€ìˆ˜                 | í•„ìˆ˜ | ì„¤ëª…                   |
| -------------------- | ---- | ---------------------- |
| DATABASE_URL         | âœ…   | PostgreSQL ì—°ê²° ë¬¸ìì—´ |
| JWT_SECRET           | âœ…   | Access Token ì„œëª… í‚¤   |
| JWT_REFRESH_SECRET   | âœ…   | Refresh Token ì„œëª… í‚¤  |
| NEXT_PUBLIC_BASE_URL | âœ…   | ì•± ê¸°ë³¸ URL            |
| KAKAO_CLIENT_ID      | âŒ   | ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì‹œ í•„ìš”  |
| KAKAO_CLIENT_SECRET  | âŒ   | ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì‹œ í•„ìš”  |

## ğŸ“¦ ë°°í¬

### Vercel (ê¶Œì¥)

1. [Vercel](https://vercel.com)ì— GitHub ì €ì¥ì†Œ ì—°ê²°
2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
3. ìë™ ë°°í¬ í™œì„±í™”

```bash
# Vercel CLIë¡œ ë°°í¬
npx vercel
```

### GitHub Pages

ì •ì  ë¹Œë“œë¡œ GitHub Pagesì— ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
# ì •ì  ë¹Œë“œ
pnpm build

# out/ í´ë”ë¥¼ gh-pages ë¸Œëœì¹˜ì— ë°°í¬
```

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'feat: Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

### ì»¤ë°‹ ì»¨ë²¤ì…˜

```text
feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
fix: ë²„ê·¸ ìˆ˜ì •
refactor: ì½”ë“œ ë¦¬íŒ©í† ë§
style: ìŠ¤íƒ€ì¼ ë³€ê²½ (CSS, í¬ë§·íŒ…)
docs: ë¬¸ì„œ ìˆ˜ì •
test: í…ŒìŠ¤íŠ¸ ì¶”ê°€/ìˆ˜ì •
chore: ë¹Œë“œ, ì„¤ì • ë³€ê²½
```

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

---

<p align="center">
  Made with â¤ï¸ by MBTI Lab Team
</p>


